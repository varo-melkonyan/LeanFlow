{"ast":null,"code":"import React,{useEffect,useState,useRef}from'react';import{io}from'socket.io-client';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const socket=io('http://localhost:5001');const ChatBox=_ref=>{let{user}=_ref;const[message,setMessage]=useState('');const[messages,setMessages]=useState([]);const[isOpen,setIsOpen]=useState(false);const[userColors,setUserColors]=useState({});const userRef=useRef(user);const messagesEndRef=useRef(null);const fileInputRef=useRef(null);const handleFileUpload=async e=>{const file=e.target.files[0];if(!file)return;const formData=new FormData();formData.append('file',file);try{const res=await axios.post('http://localhost:5001/api/chat/upload',formData);const fileUrl=res.data.url;const msg={sender:user.name,text:file.type.startsWith('image/')?\"<img src=\\\"\".concat(fileUrl,\"\\\" class=\\\"max-w-[150px] rounded\\\" />\"):\"<a href=\\\"\".concat(fileUrl,\"\\\" target=\\\"_blank\\\" class=\\\"text-blue-600 underline\\\">\").concat(file.name,\"</a>\"),time:new Date().toLocaleTimeString()};console.log('ðŸ“¤ Sending file message:',msg);socket.emit('send_message',msg);setMessages(prev=>[...prev,msg]);e.target.value='';}catch(err){console.error('ðŸ“Ž File upload failed:',err);}};useEffect(()=>{userRef.current=user;},[user]);// ðŸŽ¨ Ô³Õ¸Ö‚ÕµÕ¶ Õ£Õ¥Õ¶Õ¥Ö€Õ¡ÖÕ¶Õ¸Õ² Õ¨Õ½Õ¿ Õ¡Õ¶Õ¸Ö‚Õ¶Õ«\nconst generateColorFromName=name=>{let hash=0;for(let i=0;i<name.length;i++){hash=name.charCodeAt(i)+((hash<<5)-hash);}const color=\"hsl(\".concat(hash%360,\", 70%, 60%)\");return color;};const getUserColor=senderEmail=>{const user=users.find(u=>u.email===senderEmail);return(user===null||user===void 0?void 0:user.chatColor)||'#000000';};useEffect(()=>{const fetchUserColors=async()=>{try{const res=await axios.get('http://localhost:5001/api/users');const map={};res.data.forEach(u=>{map[u.name]=u.chatColor||generateColorFromName(u.name);});setUserColors(map);}catch(err){console.error('âŒ Failed to fetch user colors:',err);}};fetchUserColors();const playNotificationSound=()=>{const audio=new Audio('/notification.mp3');audio.play().catch(err=>console.log('Sound blocked:',err));};const flashChatButton=()=>{const button=document.getElementById('chat-button');if(button){button.classList.add('ring','ring-blue-400');setTimeout(()=>button.classList.remove('ring','ring-blue-400'),1500);}};const fetchHistory=async()=>{try{const res=await axios.get('http://localhost:5001/api/chat');setMessages(res.data);}catch(err){console.error('âŒ Failed to load chat history:',err);}};fetchHistory();socket.on('receive_message',data=>{setMessages(prev=>[...prev,data]);if(!isOpen){playNotificationSound();flashChatButton();}});return()=>{socket.off('receive_message');};},[]);useEffect(()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});},[messages]);const sendMessage=()=>{const currentUser=userRef.current;if(!currentUser||!currentUser.name||!message.trim())return;const msgData={sender:currentUser.name,text:message.trim(),time:new Date().toLocaleTimeString()};socket.emit('send_message',msgData);setMessages(prev=>[...prev,msgData]);setMessage('');};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-4 right-4 z-50 text-sm font-sans\",children:isOpen?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-xl shadow-lg w-80 max-h-[70vh] flex flex-col border border-gray-200 dark:border-gray-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-600 text-white px-4 py-2 rounded-t-xl flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"flex items-center gap-2 text-base font-semibold\",children:\"\\uD83D\\uDCAC Live Chat\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsOpen(false),className:\"text-white hover:text-gray-300 transition text-xl font-bold\",title:\"Minimize\",style:{width:'auto'},children:\"\\u2212\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 overflow-y-auto flex-1 flex flex-col-reverse space-y-2 space-y-reverse scroll-smooth\",children:[...messages].reverse().map((msg,idx)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"strong\",{style:{color:userColors[msg.sender]||'#3b82f6'},children:[msg.sender,\":\"]}),' ',/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:msg.text}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400 dark:text-gray-500\",children:msg.time})]},idx))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex p-2 border-t border-gray-200 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},className:\"text-xl\",title:\"Attach file\",children:\"\\uD83D\\uDCCE\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",ref:fileInputRef,onChange:handleFileUpload,style:{display:'none'},accept:\".png,.jpg,.jpeg,.pdf\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Type your message...\",value:message,onChange:e=>setMessage(e.target.value),onKeyDown:e=>e.key==='Enter'&&sendMessage(),className:\"flex-1 p-2 rounded border dark:bg-gray-700 dark:text-white focus:outline-none\",style:{width:'auto'}}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,className:\"ml-2 px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700\",style:{width:'auto'},children:\"Send\"})]})]}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsOpen(true),className:\"bg-blue-600 text-white px-4 py-2 rounded-full shadow hover:bg-blue-700\",id:\"chat-button\",children:\"\\uD83D\\uDCAC\"})});};export default ChatBox;","map":{"version":3,"names":["React","useEffect","useState","useRef","io","axios","jsx","_jsx","jsxs","_jsxs","socket","ChatBox","_ref","user","message","setMessage","messages","setMessages","isOpen","setIsOpen","userColors","setUserColors","userRef","messagesEndRef","fileInputRef","handleFileUpload","e","file","target","files","formData","FormData","append","res","post","fileUrl","data","url","msg","sender","name","text","type","startsWith","concat","time","Date","toLocaleTimeString","console","log","emit","prev","value","err","error","current","generateColorFromName","hash","i","length","charCodeAt","color","getUserColor","senderEmail","users","find","u","email","chatColor","fetchUserColors","get","map","forEach","playNotificationSound","audio","Audio","play","catch","flashChatButton","button","document","getElementById","classList","add","setTimeout","remove","fetchHistory","on","off","_messagesEndRef$curre","scrollIntoView","behavior","sendMessage","currentUser","trim","msgData","className","children","onClick","title","style","width","reverse","idx","dangerouslySetInnerHTML","__html","_fileInputRef$current","click","ref","onChange","display","accept","placeholder","onKeyDown","key","id"],"sources":["/Users/varazdat.melkonyan/Desktop/wwwww copy/frontend/src/components/ChatBox.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport { io } from 'socket.io-client';\nimport axios from 'axios';\n\nconst socket = io('http://localhost:5001');\n\nconst ChatBox = ({ user }) => {\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [isOpen, setIsOpen] = useState(false);\n  const [userColors, setUserColors] = useState({});\n  const userRef = useRef(user);\n  const messagesEndRef = useRef(null);\n  const fileInputRef = useRef(null);\n\n\nconst handleFileUpload = async (e) => {\n  const file = e.target.files[0];\n  if (!file) return;\n\n  const formData = new FormData();\n  formData.append('file', file);\n\n  try {\n    const res = await axios.post('http://localhost:5001/api/chat/upload', formData);\n    const fileUrl = res.data.url;\n\n    const msg = {\n      sender: user.name,\n      text: file.type.startsWith('image/')\n        ? `<img src=\"${fileUrl}\" class=\"max-w-[150px] rounded\" />`\n        : `<a href=\"${fileUrl}\" target=\"_blank\" class=\"text-blue-600 underline\">${file.name}</a>`,\n      time: new Date().toLocaleTimeString(),\n    };\nconsole.log('ðŸ“¤ Sending file message:', msg);\n\n    socket.emit('send_message', msg);\n\n    setMessages((prev) => [...prev, msg]);\n\n    e.target.value = '';\n  } catch (err) {\n    console.error('ðŸ“Ž File upload failed:', err);\n  }\n};\n\n\n  useEffect(() => {\n    userRef.current = user;\n  }, [user]);\n\n  // ðŸŽ¨ Ô³Õ¸Ö‚ÕµÕ¶ Õ£Õ¥Õ¶Õ¥Ö€Õ¡ÖÕ¶Õ¸Õ² Õ¨Õ½Õ¿ Õ¡Õ¶Õ¸Ö‚Õ¶Õ«\n  const generateColorFromName = (name) => {\n    let hash = 0;\n    for (let i = 0; i < name.length; i++) {\n      hash = name.charCodeAt(i) + ((hash << 5) - hash);\n    }\n    const color = `hsl(${hash % 360}, 70%, 60%)`;\n    return color;\n  };\n\n  const getUserColor = (senderEmail) => {\n  const user = users.find(u => u.email === senderEmail);\n  return user?.chatColor || '#000000';\n};\n\n\n  useEffect(() => {\n    const fetchUserColors = async () => {\n      try {\n        const res = await axios.get('http://localhost:5001/api/users');\n        const map = {};\n        res.data.forEach(u => {\n          map[u.name] = u.chatColor || generateColorFromName(u.name);\n        });\n        setUserColors(map);\n      } catch (err) {\n        console.error('âŒ Failed to fetch user colors:', err);\n      }\n    };\n\n    fetchUserColors();\n\nconst playNotificationSound = () => {\n  const audio = new Audio('/notification.mp3');\n  audio.play().catch(err => console.log('Sound blocked:', err));\n};\n\nconst flashChatButton = () => {\n  const button = document.getElementById('chat-button');\n  if (button) {\n    button.classList.add('ring', 'ring-blue-400');\n    setTimeout(() => button.classList.remove('ring', 'ring-blue-400'), 1500);\n  }\n};\n\n    const fetchHistory = async () => {\n      try {\n        const res = await axios.get('http://localhost:5001/api/chat');\n        setMessages(res.data);\n      } catch (err) {\n        console.error('âŒ Failed to load chat history:', err);\n      }\n    };\n\n    fetchHistory();\n\n    socket.on('receive_message', (data) => {\n      setMessages((prev) => [...prev, data]);\n      if (!isOpen) {\n    playNotificationSound();\n    flashChatButton();\n  }\n    });\n\n    return () => {\n      socket.off('receive_message');\n    };\n  }, []);\n\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  const sendMessage = () => {\n    const currentUser = userRef.current;\n    if (!currentUser || !currentUser.name || !message.trim()) return;\n\n    const msgData = {\n      sender: currentUser.name,\n      text: message.trim(),\n      time: new Date().toLocaleTimeString(),\n    };\n\n    socket.emit('send_message', msgData);\n    setMessages((prev) => [...prev, msgData]);\n    setMessage('');\n  };\n\n  return (\n    <div className=\"fixed bottom-4 right-4 z-50 text-sm font-sans\">\n      {isOpen ? (\n        <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-lg w-80 max-h-[70vh] flex flex-col border border-gray-200 dark:border-gray-700\">\n          {/* Header */}\n          <div className=\"bg-blue-600 text-white px-4 py-2 rounded-t-xl flex justify-between items-center\">\n            <span className=\"flex items-center gap-2 text-base font-semibold\">\n              ðŸ’¬ Live Chat\n            </span>\n            <button\n              onClick={() => setIsOpen(false)}\n              className=\"text-white hover:text-gray-300 transition text-xl font-bold\"\n              title=\"Minimize\"\n              style={{ width: 'auto' }}\n            >\n              &minus;\n            </button>\n          </div>\n\n          {/* Messages */}\n          <div className=\"p-3 overflow-y-auto flex-1 flex flex-col-reverse space-y-2 space-y-reverse scroll-smooth\">\n  {[...messages].reverse().map((msg, idx) => (\n    <div key={idx}>\n      <div>\n  <strong style={{ color: userColors[msg.sender] || '#3b82f6' }}>\n    {msg.sender}:\n  </strong>{' '}\n  <span dangerouslySetInnerHTML={{ __html: msg.text }} />\n</div>\n      <div className=\"text-xs text-gray-400 dark:text-gray-500\">{msg.time}</div>\n    </div>\n  ))}\n</div>\n\n\n          {/* Input */}\n          <div className=\"flex p-2 border-t border-gray-200 dark:border-gray-700\">\n            <button\n    onClick={() => fileInputRef.current?.click()}\n    className=\"text-xl\"\n    title=\"Attach file\"\n  >\n    ðŸ“Ž\n  </button>\n  <input\n  type=\"file\"\n  ref={fileInputRef} \n  onChange={handleFileUpload}\n  style={{ display: 'none' }}\n  accept=\".png,.jpg,.jpeg,.pdf\"\n/>\n            <input\n              type=\"text\"\n              placeholder=\"Type your message...\"\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n              onKeyDown={(e) => e.key === 'Enter' && sendMessage()}\n              className=\"flex-1 p-2 rounded border dark:bg-gray-700 dark:text-white focus:outline-none\"\n              style={{ width: 'auto' }}\n            />\n            <button\n              onClick={sendMessage}\n              className=\"ml-2 px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700\"\n              style={{ width: 'auto' }}\n            >\n              Send\n            </button>\n          </div>\n        </div>\n      ) : (\n        <button\n          onClick={() => setIsOpen(true)}\n          className=\"bg-blue-600 text-white px-4 py-2 rounded-full shadow hover:bg-blue-700\"\n          id=\"chat-button\"\n        >\n          ðŸ’¬\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default ChatBox;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,CAAEC,MAAM,KAAQ,OAAO,CAC1D,OAASC,EAAE,KAAQ,kBAAkB,CACrC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,MAAM,CAAGN,EAAE,CAAC,uBAAuB,CAAC,CAE1C,KAAM,CAAAO,OAAO,CAAGC,IAAA,EAAc,IAAb,CAAEC,IAAK,CAAC,CAAAD,IAAA,CACvB,KAAM,CAACE,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACc,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACgB,MAAM,CAAEC,SAAS,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAC3C,KAAM,CAACkB,UAAU,CAAEC,aAAa,CAAC,CAAGnB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAChD,KAAM,CAAAoB,OAAO,CAAGnB,MAAM,CAACU,IAAI,CAAC,CAC5B,KAAM,CAAAU,cAAc,CAAGpB,MAAM,CAAC,IAAI,CAAC,CACnC,KAAM,CAAAqB,YAAY,CAAGrB,MAAM,CAAC,IAAI,CAAC,CAGnC,KAAM,CAAAsB,gBAAgB,CAAG,KAAO,CAAAC,CAAC,EAAK,CACpC,KAAM,CAAAC,IAAI,CAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAC9B,GAAI,CAACF,IAAI,CAAE,OAEX,KAAM,CAAAG,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAEL,IAAI,CAAC,CAE7B,GAAI,CACF,KAAM,CAAAM,GAAG,CAAG,KAAM,CAAA5B,KAAK,CAAC6B,IAAI,CAAC,uCAAuC,CAAEJ,QAAQ,CAAC,CAC/E,KAAM,CAAAK,OAAO,CAAGF,GAAG,CAACG,IAAI,CAACC,GAAG,CAE5B,KAAM,CAAAC,GAAG,CAAG,CACVC,MAAM,CAAE1B,IAAI,CAAC2B,IAAI,CACjBC,IAAI,CAAEd,IAAI,CAACe,IAAI,CAACC,UAAU,CAAC,QAAQ,CAAC,eAAAC,MAAA,CACnBT,OAAO,uDAAAS,MAAA,CACRT,OAAO,4DAAAS,MAAA,CAAqDjB,IAAI,CAACa,IAAI,QAAM,CAC3FK,IAAI,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,CACtC,CAAC,CACLC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAEX,GAAG,CAAC,CAExC5B,MAAM,CAACwC,IAAI,CAAC,cAAc,CAAEZ,GAAG,CAAC,CAEhCrB,WAAW,CAAEkC,IAAI,EAAK,CAAC,GAAGA,IAAI,CAAEb,GAAG,CAAC,CAAC,CAErCZ,CAAC,CAACE,MAAM,CAACwB,KAAK,CAAG,EAAE,CACrB,CAAE,MAAOC,GAAG,CAAE,CACZL,OAAO,CAACM,KAAK,CAAC,wBAAwB,CAAED,GAAG,CAAC,CAC9C,CACF,CAAC,CAGCpD,SAAS,CAAC,IAAM,CACdqB,OAAO,CAACiC,OAAO,CAAG1C,IAAI,CACxB,CAAC,CAAE,CAACA,IAAI,CAAC,CAAC,CAEV;AACA,KAAM,CAAA2C,qBAAqB,CAAIhB,IAAI,EAAK,CACtC,GAAI,CAAAiB,IAAI,CAAG,CAAC,CACZ,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGlB,IAAI,CAACmB,MAAM,CAAED,CAAC,EAAE,CAAE,CACpCD,IAAI,CAAGjB,IAAI,CAACoB,UAAU,CAACF,CAAC,CAAC,EAAI,CAACD,IAAI,EAAI,CAAC,EAAIA,IAAI,CAAC,CAClD,CACA,KAAM,CAAAI,KAAK,QAAAjB,MAAA,CAAUa,IAAI,CAAG,GAAG,eAAa,CAC5C,MAAO,CAAAI,KAAK,CACd,CAAC,CAED,KAAM,CAAAC,YAAY,CAAIC,WAAW,EAAK,CACtC,KAAM,CAAAlD,IAAI,CAAGmD,KAAK,CAACC,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACC,KAAK,GAAKJ,WAAW,CAAC,CACrD,MAAO,CAAAlD,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEuD,SAAS,GAAI,SAAS,CACrC,CAAC,CAGCnE,SAAS,CAAC,IAAM,CACd,KAAM,CAAAoE,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAI,CACF,KAAM,CAAApC,GAAG,CAAG,KAAM,CAAA5B,KAAK,CAACiE,GAAG,CAAC,iCAAiC,CAAC,CAC9D,KAAM,CAAAC,GAAG,CAAG,CAAC,CAAC,CACdtC,GAAG,CAACG,IAAI,CAACoC,OAAO,CAACN,CAAC,EAAI,CACpBK,GAAG,CAACL,CAAC,CAAC1B,IAAI,CAAC,CAAG0B,CAAC,CAACE,SAAS,EAAIZ,qBAAqB,CAACU,CAAC,CAAC1B,IAAI,CAAC,CAC5D,CAAC,CAAC,CACFnB,aAAa,CAACkD,GAAG,CAAC,CACpB,CAAE,MAAOlB,GAAG,CAAE,CACZL,OAAO,CAACM,KAAK,CAAC,gCAAgC,CAAED,GAAG,CAAC,CACtD,CACF,CAAC,CAEDgB,eAAe,CAAC,CAAC,CAErB,KAAM,CAAAI,qBAAqB,CAAGA,CAAA,GAAM,CAClC,KAAM,CAAAC,KAAK,CAAG,GAAI,CAAAC,KAAK,CAAC,mBAAmB,CAAC,CAC5CD,KAAK,CAACE,IAAI,CAAC,CAAC,CAACC,KAAK,CAACxB,GAAG,EAAIL,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAEI,GAAG,CAAC,CAAC,CAC/D,CAAC,CAED,KAAM,CAAAyB,eAAe,CAAGA,CAAA,GAAM,CAC5B,KAAM,CAAAC,MAAM,CAAGC,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC,CACrD,GAAIF,MAAM,CAAE,CACVA,MAAM,CAACG,SAAS,CAACC,GAAG,CAAC,MAAM,CAAE,eAAe,CAAC,CAC7CC,UAAU,CAAC,IAAML,MAAM,CAACG,SAAS,CAACG,MAAM,CAAC,MAAM,CAAE,eAAe,CAAC,CAAE,IAAI,CAAC,CAC1E,CACF,CAAC,CAEG,KAAM,CAAAC,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF,KAAM,CAAArD,GAAG,CAAG,KAAM,CAAA5B,KAAK,CAACiE,GAAG,CAAC,gCAAgC,CAAC,CAC7DrD,WAAW,CAACgB,GAAG,CAACG,IAAI,CAAC,CACvB,CAAE,MAAOiB,GAAG,CAAE,CACZL,OAAO,CAACM,KAAK,CAAC,gCAAgC,CAAED,GAAG,CAAC,CACtD,CACF,CAAC,CAEDiC,YAAY,CAAC,CAAC,CAEd5E,MAAM,CAAC6E,EAAE,CAAC,iBAAiB,CAAGnD,IAAI,EAAK,CACrCnB,WAAW,CAAEkC,IAAI,EAAK,CAAC,GAAGA,IAAI,CAAEf,IAAI,CAAC,CAAC,CACtC,GAAI,CAAClB,MAAM,CAAE,CACfuD,qBAAqB,CAAC,CAAC,CACvBK,eAAe,CAAC,CAAC,CACnB,CACE,CAAC,CAAC,CAEF,MAAO,IAAM,CACXpE,MAAM,CAAC8E,GAAG,CAAC,iBAAiB,CAAC,CAC/B,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAENvF,SAAS,CAAC,IAAM,KAAAwF,qBAAA,CACd,CAAAA,qBAAA,CAAAlE,cAAc,CAACgC,OAAO,UAAAkC,qBAAA,iBAAtBA,qBAAA,CAAwBC,cAAc,CAAC,CAAEC,QAAQ,CAAE,QAAS,CAAC,CAAC,CAChE,CAAC,CAAE,CAAC3E,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAA4E,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAAAC,WAAW,CAAGvE,OAAO,CAACiC,OAAO,CACnC,GAAI,CAACsC,WAAW,EAAI,CAACA,WAAW,CAACrD,IAAI,EAAI,CAAC1B,OAAO,CAACgF,IAAI,CAAC,CAAC,CAAE,OAE1D,KAAM,CAAAC,OAAO,CAAG,CACdxD,MAAM,CAAEsD,WAAW,CAACrD,IAAI,CACxBC,IAAI,CAAE3B,OAAO,CAACgF,IAAI,CAAC,CAAC,CACpBjD,IAAI,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,CACtC,CAAC,CAEDrC,MAAM,CAACwC,IAAI,CAAC,cAAc,CAAE6C,OAAO,CAAC,CACpC9E,WAAW,CAAEkC,IAAI,EAAK,CAAC,GAAGA,IAAI,CAAE4C,OAAO,CAAC,CAAC,CACzChF,UAAU,CAAC,EAAE,CAAC,CAChB,CAAC,CAED,mBACER,IAAA,QAAKyF,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAC3D/E,MAAM,cACLT,KAAA,QAAKuF,SAAS,CAAC,4HAA4H,CAAAC,QAAA,eAEzIxF,KAAA,QAAKuF,SAAS,CAAC,iFAAiF,CAAAC,QAAA,eAC9F1F,IAAA,SAAMyF,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAAC,wBAElE,CAAM,CAAC,cACP1F,IAAA,WACE2F,OAAO,CAAEA,CAAA,GAAM/E,SAAS,CAAC,KAAK,CAAE,CAChC6E,SAAS,CAAC,6DAA6D,CACvEG,KAAK,CAAC,UAAU,CAChBC,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAO,CAAE,CAAAJ,QAAA,CAC1B,QAED,CAAQ,CAAC,EACN,CAAC,cAGN1F,IAAA,QAAKyF,SAAS,CAAC,0FAA0F,CAAAC,QAAA,CAChH,CAAC,GAAGjF,QAAQ,CAAC,CAACsF,OAAO,CAAC,CAAC,CAAC/B,GAAG,CAAC,CAACjC,GAAG,CAAEiE,GAAG,gBACpC9F,KAAA,QAAAwF,QAAA,eACExF,KAAA,QAAAwF,QAAA,eACJxF,KAAA,WAAQ2F,KAAK,CAAE,CAAEvC,KAAK,CAAEzC,UAAU,CAACkB,GAAG,CAACC,MAAM,CAAC,EAAI,SAAU,CAAE,CAAA0D,QAAA,EAC3D3D,GAAG,CAACC,MAAM,CAAC,GACd,EAAQ,CAAC,CAAC,GAAG,cACbhC,IAAA,SAAMiG,uBAAuB,CAAE,CAAEC,MAAM,CAAEnE,GAAG,CAACG,IAAK,CAAE,CAAE,CAAC,EACpD,CAAC,cACAlC,IAAA,QAAKyF,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAE3D,GAAG,CAACO,IAAI,CAAM,CAAC,GAPlE0D,GAQL,CACN,CAAC,CACC,CAAC,cAII9F,KAAA,QAAKuF,SAAS,CAAC,wDAAwD,CAAAC,QAAA,eACrE1F,IAAA,WACR2F,OAAO,CAAEA,CAAA,QAAAQ,qBAAA,QAAAA,qBAAA,CAAMlF,YAAY,CAAC+B,OAAO,UAAAmD,qBAAA,iBAApBA,qBAAA,CAAsBC,KAAK,CAAC,CAAC,EAAC,CAC7CX,SAAS,CAAC,SAAS,CACnBG,KAAK,CAAC,aAAa,CAAAF,QAAA,CACpB,cAED,CAAQ,CAAC,cACT1F,IAAA,UACAmC,IAAI,CAAC,MAAM,CACXkE,GAAG,CAAEpF,YAAa,CAClBqF,QAAQ,CAAEpF,gBAAiB,CAC3B2E,KAAK,CAAE,CAAEU,OAAO,CAAE,MAAO,CAAE,CAC3BC,MAAM,CAAC,sBAAsB,CAC9B,CAAC,cACUxG,IAAA,UACEmC,IAAI,CAAC,MAAM,CACXsE,WAAW,CAAC,sBAAsB,CAClC5D,KAAK,CAAEtC,OAAQ,CACf+F,QAAQ,CAAGnF,CAAC,EAAKX,UAAU,CAACW,CAAC,CAACE,MAAM,CAACwB,KAAK,CAAE,CAC5C6D,SAAS,CAAGvF,CAAC,EAAKA,CAAC,CAACwF,GAAG,GAAK,OAAO,EAAItB,WAAW,CAAC,CAAE,CACrDI,SAAS,CAAC,+EAA+E,CACzFI,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAO,CAAE,CAC1B,CAAC,cACF9F,IAAA,WACE2F,OAAO,CAAEN,WAAY,CACrBI,SAAS,CAAC,iEAAiE,CAC3EI,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAO,CAAE,CAAAJ,QAAA,CAC1B,MAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,cAEN1F,IAAA,WACE2F,OAAO,CAAEA,CAAA,GAAM/E,SAAS,CAAC,IAAI,CAAE,CAC/B6E,SAAS,CAAC,wEAAwE,CAClFmB,EAAE,CAAC,aAAa,CAAAlB,QAAA,CACjB,cAED,CAAQ,CACT,CACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAtF,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}