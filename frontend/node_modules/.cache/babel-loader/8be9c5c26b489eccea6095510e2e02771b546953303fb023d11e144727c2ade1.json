{"ast":null,"code":"import _objectSpread from\"/Users/varazdat.melkonyan/Desktop/LeanFlow/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const[form,setForm]=useState({name:'',email:'',password:'',role:'client'});const navigate=useNavigate();const handleChange=e=>setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.value}));const handleRegister=async e=>{e.preventDefault();try{await await fetch(\"\".concat(apiBase,\"/api/auth/register\"),form);navigate('/');}catch(err){var _err$response,_err$response$data;alert('Registration failed: '+(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||'Unknown error'));}};return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRegister,className:\"bg-white dark:bg-gray-800 p-6 rounded-xl shadow w-80 space-y-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-center dark:text-white\",children:\"Register\"}),/*#__PURE__*/_jsx(\"input\",{name:\"name\",placeholder:\"Name\",className:\"w-full p-2 border rounded dark:bg-gray-900 dark:text-white\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",placeholder:\"Email\",type:\"email\",className:\"w-full p-2 border rounded dark:bg-gray-900 dark:text-white\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",placeholder:\"Password\",type:\"password\",className:\"w-full p-2 border rounded dark:bg-gray-900 dark:text-white\",onChange:handleChange,required:true}),/*#__PURE__*/_jsxs(\"select\",{name:\"role\",className:\"w-full p-2 border rounded dark:bg-gray-900 dark:text-white\",onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"client\",children:\"Client\"}),/*#__PURE__*/_jsx(\"option\",{value:\"support\",children:\"Support\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-center text-gray-600 dark:text-gray-400\",children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"text-blue-400 underline\",children:\"Login\"})]})]})});};export default Register;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Register","form","setForm","name","email","password","role","navigate","handleChange","e","_objectSpread","target","value","handleRegister","preventDefault","fetch","concat","apiBase","err","_err$response","_err$response$data","alert","response","data","error","className","children","onSubmit","placeholder","onChange","required","type","href"],"sources":["/Users/varazdat.melkonyan/Desktop/LeanFlow/frontend/src/pages/Register.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\nconst Register = () => {\n  const [form, setForm] = useState({\n    name: '',\n    email: '',\n    password: '',\n    role: 'client',\n  });\n\n  const navigate = useNavigate();\n\n  const handleChange = (e) =>\n    setForm({ ...form, [e.target.name]: e.target.value });\n\n  const handleRegister = async (e) => {\n    e.preventDefault();\n    try {\n      await await fetch(`${apiBase}/api/auth/register`, form);\n      navigate('/');\n    } catch (err) {\n      alert('Registration failed: ' + (err.response?.data?.error || 'Unknown error'));\n    }\n  };\n\n  return (\n    <div className=\"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900\">\n      <form onSubmit={handleRegister} className=\"bg-white dark:bg-gray-800 p-6 rounded-xl shadow w-80 space-y-4\">\n        <h2 className=\"text-xl font-semibold text-center dark:text-white\">Register</h2>\n\n        <input\n          name=\"name\"\n          placeholder=\"Name\"\n          className=\"w-full p-2 border rounded dark:bg-gray-900 dark:text-white\"\n          onChange={handleChange}\n          required\n        />\n        <input\n          name=\"email\"\n          placeholder=\"Email\"\n          type=\"email\"\n          className=\"w-full p-2 border rounded dark:bg-gray-900 dark:text-white\"\n          onChange={handleChange}\n          required\n        />\n        <input\n          name=\"password\"\n          placeholder=\"Password\"\n          type=\"password\"\n          className=\"w-full p-2 border rounded dark:bg-gray-900 dark:text-white\"\n          onChange={handleChange}\n          required\n        />\n\n        <select\n          name=\"role\"\n          className=\"w-full p-2 border rounded dark:bg-gray-900 dark:text-white\"\n          onChange={handleChange}\n        >\n          <option value=\"client\">Client</option>\n          <option value=\"support\">Support</option>\n          <option value=\"admin\">Admin</option>\n        </select>\n        <button type=\"submit\" className=\"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded\">\n          Register\n        </button>\n\n        <p className=\"text-sm text-center text-gray-600 dark:text-gray-400\">\n          Already have an account? <a href=\"/\" className=\"text-blue-400 underline\">Login</a>\n        </p>\n      </form>\n    </div>\n  );\n};\n\nexport default Register;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}